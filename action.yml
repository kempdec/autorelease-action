name: Auto Release Action
author: KempDec
description: Gere automaticamente releases do seu projeto no GitHub usando o Auto Release para GitHub Actions.

branding:
  icon: "tag"
  color: "gray-dark"

outputs:
  output:
    description: "A saída da criação automática do release"
    value: ${{ steps.release.outputs.OUTPUT }}

runs:
  using: "composite"

  steps:
    - name: Checkout do repositório
      uses: actions/checkout@v4

    - name: Configurar o .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: 8.x
    
    - name: Instalar o Auto Release
      run: dotnet tool install -g autorelease
      shell: bash

    - name: Criar release com o Auto Release
      id: release
      run: echo "OUTPUT=$(autorelease create)" >> "$GITHUB_OUTPUT"
      shell: bash
      env:
        AutoRelease_Repo: ${{ github.repository }}